{% extends 'base.html.twig' %}

{% block title %}Commande confirmée{% endblock %}

{% block stylesheets %}
<style>
    .success-container {
        text-align: center;
        padding: 3rem 0;
    }

    .success-icon {
        font-size: 6rem;
        color: var(--success-color);
        margin-bottom: 2rem;
        animation: scaleIn 0.5s ease-out;
    }

    @keyframes scaleIn {
        from {
            transform: scale(0);
        }
        to {
            transform: scale(1);
        }
    }

    .success-card {
        background: white;
        border-radius: 20px;
        padding: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        margin: 2rem auto;
    }

    .order-number {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary-color);
        margin: 1rem 0;
    }
</style>
{% endblock %}

{% block body %}
<div class="success-container">
    <div class="success-icon">
        <i class="bi bi-check-circle-fill"></i>
    </div>
    <h1 class="mb-3">Commande confirmée !</h1>
    <p class="lead text-muted">Votre commande a été enregistrée avec succès.</p>
    
    <div class="success-card">
        <h5 class="mb-4"><i class="bi bi-receipt"></i> Détails de la commande</h5>
        <div class="order-number">#{{ order.id }}</div>
        <div class="row text-start mt-4">
            <div class="col-6 mb-3">
                <strong>Date:</strong><br>
                {{ order.dateCommande|date('d/m/Y H:i') }}
            </div>
            <div class="col-6 mb-3">
                <strong>Montant:</strong><br>
                <span style="font-size: 1.2rem; color: var(--primary-color); font-weight: 700;">{{ order.montantTotal|number_format(2, ',', ' ') }} €</span>
            </div>
            <div class="col-12 mb-3">
                <strong>Statut:</strong><br>
                <span class="badge bg-warning" style="font-size: 1rem; padding: 0.5rem 1rem;">{{ order.statut }}</span>
            </div>
        </div>
    </div>

    <div class="mt-4">
        <form method="post" action="{{ path('order_payment', {id: order.id}) }}" class="d-inline">
            <button type="submit" class="btn btn-success btn-lg me-2">
                <i class="bi bi-credit-card"></i> Effectuer le paiement
            </button>
        </form>
        <a href="{{ path('order_show', {id: order.id}) }}" class="btn btn-outline-primary btn-lg me-2">
            <i class="bi bi-eye"></i> Voir les détails
        </a>
        <a href="{{ path('home') }}" class="btn btn-outline-secondary btn-lg">
            <i class="bi bi-house"></i> Retour à l'accueil
        </a>
    </div>
</div>
{% endblock %}
